全锥型nat当路由器收到外网发过来的数据包时，其根据路由器内部缓存的映射表查找目的ip与port，找到了就把包向内网转发，找不到就丢弃。


ip限制锥型，某外网主机ip向此类型的路由器发送数据包时，路由器在只有先由内网某个计算机已经先向该外网主机ip发送过数据包的前题条件下，路由器才会把此外网主机ip发送过来的数据包向内网转发，否则直接丢弃。且一般来说，先向外网ip发送数据包的操作不能太旧了，一旦超时了路由器缓存就被自动删除了。即会导致路由器在缓存里找不到内网对外网ip的发送记录。我们测试数据来看，这个超时间一般在2分钟左右，不同厂商实现的路由器这个时间设定可能不同。

端口限制锥型，外网主机发过来的数据包的源地址ip:port,如果此数据包要想成功通过路由器进入内网。那么必须是在之前先有内网主机向此外网地址ip:port发送过数据包才可以。而ip限制型的前题条件是向此外网ip发送过数据包，也就是说如果是ip限制型外网在收到请求包后，可以通过另一个端口来回应数据包。对应到socket编程里就是可以通过另一个socket来回送数据，他们所使用的源端口可以是不一样的。然而对于端口限制型，则一定是收到消息的这个socket本身进行回复

对称型(Symmetric),对称型nat在安全策略上即在对收到外网发送过来的数据所做的操作与端口限制型是一样的。它与端口限制锥型主要的区别就是当内网对外网发送包时，在对内网地址进行转换时对不同目的外网地址ip:port，分配不同的端口

![data](https://img2020.cnblogs.com/blog/414637/202007/414637-20200716163706209-1417293637.png)


[来源](https://www.cnblogs.com/colin-vio/p/13323228.html)
